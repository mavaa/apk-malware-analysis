import extractor

# App name and file paths
app = "cn.buding.moviecoupon.apk"
app_path = "apps/m/" + app # Where to find the apk
out_path = "decoded/m/" + app # Where to put the extracted folder

# Extract the apk file (Only needed to run once per app, remove comment if needed)
# extractor.extract_app(app_path)

# Load the app manifest
manifest = extractor.load_manifest(out_path)

# Get the nuber of activities defined
number_of_activities = extractor.get_number_of_activities(manifest)
print("Found " + str(number_of_activities) + " activities")
print()

# Search for permissions
permissions = extractor.get_permissions(manifest)
print("Found " + str(len(permissions)) + " permissions:")
print(permissions)
print()

# Search for ipv4 addresses
files_with_ips = extractor.get_ip_files(out_path)
print("Found " + str(len(files_with_ips)) + " files containing ipv4 addresses:")
print(files_with_ips)
